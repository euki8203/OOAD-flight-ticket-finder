(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(20),o=n.n(r),l=(n(29),n(5)),s=n(6),c=n(7),u=n(8),h=(n(30),n(10)),m=n(9),d=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"header"},i.a.createElement("h2",null," OOAD Final Project"),i.a.createElement("h3",null," Ashley Kim & Elizabeth Qiu"),i.a.createElement("p",null,"This app matches users with flights using data from the Skyscanner api."),i.a.createElement("img",{alt:"Plane logo",src:"./plane_logo.png",width:"300",height:"300"}))}}]),n}(a.Component),g=n(12),p=n.n(g),v=n(14),f=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=void 0===a.props.location.state?{origin:void 0,destination:void 0,destinationCountry:void 0,price:void 0,depatureDate:void 0,returnDate:void 0,isLoading:!0,flights:[],sortBehavior:void 0}:a.props.location.state,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("findFlight?inboundDate=".concat(this.state.returnDate,"&originPlace=").concat(this.state.origin,"&destinationPlace=").concat(this.state.destination,"&outboundDate=").concat(this.state.depatureDate,"&country=").concat(this.state.destinationCountry),{mode:"no-cors"}).then((function(e){return e.json().then((function(t){return{data:t,status:e.status}})).then((function(e){t.setState({flights:e.data,isLoading:!1})}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"replaceCarrier",value:function(e){var t=e;return this.state.flights.Carriers.map((function(n){e==n.CarrierId&&(t=n.Name)})),t}},{key:"getCarrierLogo",value:function(e){return"881"==e?"./british_logo.png":"851"==e?"./alaska_logo.png":"1793"==e?"./united_logo.png":"1065"==e?"./frontier_logo.png":"1467"==e?"./spirit_logo.png":"./plane_logo.png"}},{key:"sortFlights",value:function(e){"price"==e?this.state.flights.Quotes.sort((function(e,t){return parseInt(e.MinPrice)-parseInt(t.MinPrice)})):"time"==e&&this.state.flights.Quotes.sort((function(e,t){return new Date(e.OutboundLeg.DepartureDate)-new Date(t.OutboundLeg.DepartureDate)}))}},{key:"convertDate",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},{key:"getOrigin",value:function(){return void 0==this.state.origin?"DEN":this.state.origin}},{key:"getDestination",value:function(){return void 0==this.state.destination?"SFO":this.state.destination}},{key:"filterFlights",value:function(){var e=this;return void 0==this.state.price?this.state.flights.Quotes:this.state.flights.Quotes.filter((function(t){if(t.MinPrice<=e.state.price)return t}))}},{key:"checkLength",value:function(){if(0==this.filterFlights().length)return"No Flights Available"}},{key:"renderFlights",value:function(){var e=this;return console.log(this.state),i.a.createElement("div",null,this.sortFlights(this.state.sortBehavior),i.a.createElement("div",{className:"quote-container"},this.filterFlights().map((function(t){return i.a.createElement("li",{key:t.QuoteId,className:"quote"},i.a.createElement("div",null,i.a.createElement("img",{src:e.getCarrierLogo(t.OutboundLeg.CarrierIds),width:"50",height:"50"})),i.a.createElement("h2",null,e.replaceCarrier(t.OutboundLeg.CarrierIds)," \xa0"),i.a.createElement("h3",null,e.getOrigin()," to ",e.getDestination()," \xa0"),i.a.createElement("p",null,"Price: ",e.state.flights.Currencies[0].Symbol,t.MinPrice," \xa0 Departure Date: ",e.convertDate(t.OutboundLeg.DepartureDate)),i.a.createElement("br",null))})),this.checkLength()))}},{key:"render",value:function(){return i.a.createElement("div",{className:"center"},!1===this.state.isLoading?this.renderFlights():"Loading")}}]),n}(a.Component),E=n(21),b=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){e.preventDefault(),a.setState(Object(E.a)({},e.target.id,e.target.value))},a.state={origin:void 0,destination:void 0,destinationCountry:void 0,price:void 0,depatureDate:void 0,returnDate:void 0,isLoading:!0,flights:[],sortBehavior:"price"},a}return Object(s.a)(n,[{key:"handleClick",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("findFlight?inboundDate=".concat(this.state.returnDate,"&originPlace=").concat(this.state.origin,"&destinationPlace=").concat(this.state.destination,"&outboundDate=").concat(this.state.depatureDate,"&country=").concat(this.state.destinationCountry),{mode:"no-cors"}).then((function(e){return e.json().then((function(t){return{data:t,status:e.status}})).then((function(e){t.setState({flights:e.data,isLoading:!1})}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"minDate",value:function(){var e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}},{key:"renderFlights",value:function(){return this.state.flights.Quotes.map((function(e){return i.a.createElement("li",{key:e.QuoteId},e.QuoteId,": ",e.MinPrice,", ",e.Direct,", ",e.QuoteDateTime)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"submit"},i.a.createElement("form",null,i.a.createElement("label",null,"Origin (ex. DEN, DFW) "),i.a.createElement("input",{type:"text",id:"origin",name:"origin",value:this.state.origin,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("label",null,"Destination (ex. SFO, ORD) "),i.a.createElement("input",{type:"text",id:"destination",name:"destination",value:this.state.destination,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("label",null,"Destination Country (ex. US) "),i.a.createElement("input",{type:"text",id:"destinationCountry",name:"destinationCountry",value:this.state.destinationCountry,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("label",null,"Maximum Price "),i.a.createElement("input",{type:"number",id:"price",name:"price",placeholder:"Price...",value:this.state.price,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("p",null," Departure Dates "),i.a.createElement("label",null," From "),i.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],id:"depatureDate",name:"depatureDate",value:this.state.depatureDate,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("label",null,"To "),i.a.createElement("input",{type:"date",min:this.minDate(),id:"returnDate",name:"returnDate",value:this.state.returnDate,onChange:this.handleChange})),i.a.createElement("form",null,i.a.createElement("label",null," Sort by: "),i.a.createElement("select",{id:"sortBehavior",value:this.state.sortBehavior,onChange:this.handleChange},i.a.createElement("option",{value:"price"},"Price"),i.a.createElement("option",{value:"time"},"Time"))),i.a.createElement("div",null,i.a.createElement(h.b,{to:{pathname:"/View",state:this.state}},i.a.createElement("button",{className:"select_button"},"Submit"))))}}]),n}(a.Component),D=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(h.a,null,i.a.createElement("div",null,i.a.createElement("div",{className:"header"},i.a.createElement("img",{alt:"Plane logo",src:"./plane_logo.png",width:"70",height:"70"}),i.a.createElement("h1",null," Flight Ticket Finder"),i.a.createElement(h.b,{to:"/",className:"select_button"},"About"),i.a.createElement(h.b,{to:"/View",className:"select_button"},"View Flight Options"),i.a.createElement(h.b,{to:"/Submit",className:"select_button"},"Enter Flight Information")),i.a.createElement(m.c,null,i.a.createElement(m.a,{exact:!0,path:"/",component:d}),i.a.createElement(m.a,{path:"/View",component:f}),i.a.createElement(m.a,{path:"/Submit",component:b}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.52959c2b.chunk.js.map